import{c as E,a as g,t as B,F as I,r as D,b as _,o as L,w as b,d as k,n as S}from"./runtime-core.esm-bundler.BM6cCH0V.js";const A="modulepreload",j=function(l){return"/"+l},x={},w=function(h,o,n){let a=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=s?.nonce||s?.getAttribute("nonce");a=Promise.allSettled(o.map(p=>{if(p=j(p),p in x)return;x[p]=!0;const d=p.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":A,d||(u.as="script"),u.crossOrigin="",u.href=p,r&&u.setAttribute("nonce",r),document.head.appendChild(u),d)return new Promise((e,t)=>{u.addEventListener("load",e),u.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return a.then(s=>{for(const r of s||[])r.status==="rejected"&&i(r.reason);return h().catch(i)})};function $(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var y={exports:{}},v={exports:{}},T=v.exports,q;function M(){return q||(q=1,function(l){(function(h,o){l.exports?l.exports=o():h.EvEmitter=o()})(typeof window<"u"?window:T,function(){function h(){}let o=h.prototype;return o.on=function(n,a){if(!n||!a)return this;let i=this._events=this._events||{},s=i[n]=i[n]||[];return s.includes(a)||s.push(a),this},o.once=function(n,a){if(!n||!a)return this;this.on(n,a);let i=this._onceEvents=this._onceEvents||{},s=i[n]=i[n]||{};return s[a]=!0,this},o.off=function(n,a){let i=this._events&&this._events[n];if(!i||!i.length)return this;let s=i.indexOf(a);return s!=-1&&i.splice(s,1),this},o.emitEvent=function(n,a){let i=this._events&&this._events[n];if(!i||!i.length)return this;i=i.slice(0),a=a||[];let s=this._onceEvents&&this._onceEvents[n];for(let r of i)s&&s[r]&&(this.off(n,r),delete s[r]),r.apply(this,a);return this},o.allOff=function(){return delete this._events,delete this._onceEvents,this},h})}(v)),v.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */var R=y.exports,C;function U(){return C||(C=1,function(l){(function(h,o){l.exports?l.exports=o(h,M()):h.imagesLoaded=o(h,h.EvEmitter)})(typeof window<"u"?window:R,function(o,n){let a=o.jQuery,i=o.console;function s(e){return Array.isArray(e)?e:typeof e=="object"&&typeof e.length=="number"?[...e]:[e]}function r(e,t,c){if(!(this instanceof r))return new r(e,t,c);let f=e;if(typeof e=="string"&&(f=document.querySelectorAll(e)),!f){i.error(`Bad element for imagesLoaded ${f||e}`);return}this.elements=s(f),this.options={},typeof t=="function"?c=t:Object.assign(this.options,t),c&&this.on("always",c),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))}r.prototype=Object.create(n.prototype),r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const p=[1,9,11];r.prototype.addElementImages=function(e){e.nodeName==="IMG"&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);let{nodeType:t}=e;if(!t||!p.includes(t))return;let c=e.querySelectorAll("img");for(let f of c)this.addImage(f);if(typeof this.options.background=="string"){let f=e.querySelectorAll(this.options.background);for(let P of f)this.addElementBackgroundImages(P)}};const d=/url\((['"])?(.*?)\1\)/gi;r.prototype.addElementBackgroundImages=function(e){let t=getComputedStyle(e);if(!t)return;let c=d.exec(t.backgroundImage);for(;c!==null;){let f=c&&c[2];f&&this.addBackground(f,e),c=d.exec(t.backgroundImage)}},r.prototype.addImage=function(e){let t=new m(e);this.images.push(t)},r.prototype.addBackground=function(e,t){let c=new u(e,t);this.images.push(c)},r.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let e=(t,c,f)=>{setTimeout(()=>{this.progress(t,c,f)})};this.images.forEach(function(t){t.once("progress",e),t.check()})},r.prototype.progress=function(e,t,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&i&&i.log(`progress: ${c}`,e,t)},r.prototype.complete=function(){let e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}};function m(e){this.img=e}m.prototype=Object.create(n.prototype),m.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},m.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},m.prototype.confirm=function(e,t){this.isLoaded=e;let{parentNode:c}=this.img,f=c.nodeName==="PICTURE"?c:this.img;this.emitEvent("progress",[this,f,t])},m.prototype.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},m.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},m.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},m.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function u(e,t){this.url=e,this.element=t,this.img=new Image}return u.prototype=Object.create(m.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},r.makeJQueryPlugin=function(e){e=e||o.jQuery,e&&(a=e,a.fn.imagesLoaded=function(t,c){return new r(this,t,c).jqDeferred.promise(a(this))})},r.makeJQueryPlugin(),r})}(y)),y.exports}var W=U();const O=$(W),G=(l,h)=>{const o=l.__vccOpts||l;for(const[n,a]of h)o[n]=a;return o},F={__name:"Gallery",props:["items"],setup(l,{expose:h}){h();const o=l,n=_(null),a=_("initial");let i=null;function s(d){a.value=d}async function r(){const{default:d}=await w(async()=>{const{default:e}=await import("./packery.b2e_e4bR.js").then(t=>t.p);return{default:e}},[]),{default:m}=await w(async()=>{const{default:e}=await import("./draggabilly.CLbjfGoe.js").then(t=>t.d);return{default:e}},[]);if(!n.value)return;i&&i.destroy(),i=new d(n.value,{itemSelector:".grid-item",percentPosition:!0});const u=i.getItemElements();u&&u.length&&u.forEach(e=>{const t=new m(e);i.bindDraggabillyEvents(t)})}L(()=>{o.items&&o.items.length&&n.value&&O(n.value,()=>{r()})}),b(()=>o.items,d=>{d&&d.length&&setTimeout(()=>{r()},100)});const p={props:o,grid:n,current:a,get pckry(){return i},set pckry(d){i=d},handleHover:s,initPackery:r,onMounted:L,ref:_,watch:b,get imagesLoaded(){return O}};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},H={class:"layout mb-2 border-t"},V={ref:"grid",class:"grid-pckry"},J=["onMouseenter"],N=["src","alt"];function z(l,h,o,n,a,i){return k(),E(I,null,[g("div",H,[g("p",null,"hovering: « "+B(n.current)+" »",1)]),g("div",V,[(k(!0),E(I,null,D(o.items,s=>(k(),E("div",{key:s._id,class:S(["grid-item",{vertical:s.height>s.width}]),onMouseenter:r=>n.handleHover(s.title),onMouseleave:h[0]||(h[0]=r=>n.handleHover(null))},[g("img",{src:s.imageUrl,alt:s.title+" artwork"},null,8,N)],42,J))),128))],512)],64)}const K=G(F,[["render",z]]);export{K as G,$ as g,M as r};
